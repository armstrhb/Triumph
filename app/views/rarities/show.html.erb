<div class="container">
  <div class="header">
    <h1>Rarity : <span class=""><%= @rarity.name %></span> <small><%= @rarity.description %></small></h1>
  </div>
  <div class="row">
    <%= link_to "Back to List", rarities_path(@rarity.realm) %>
  </div>
  <div class="row">
    <% if @rarity.achievements.length > 0 %>
    <table class='table table-striped table-hover'>
      <tr>
        <th>Achievement</th>
        <th>Description</th>
        <th>Points</th>
        <th>Category</th>
      </tr>
      <% @rarity.achievements.each do |a| %>
        <tr data-link="<%= show_achievement_path(@rarity.realm, a) %>">
          <td><%= a.title %></td>
          <td><%= a.description %></td>
          <td><%= a.points %></td>
          <td><%= a.category.name %></td>
        </tr>
      <% end %>
    </table>
    <% else %>
      <div class="col-sm-12">
        <span class="text-muted">No achievements have this rarity.</span>
      </div>
    <% end %>
  </div>
</div>

<script>
  $("tr[data-link]").click(function() {
    window.location = this.dataset.link;
  });
</script>
